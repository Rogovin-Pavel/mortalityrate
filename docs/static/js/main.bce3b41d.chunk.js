(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{159:function(e,t,a){},160:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(49),i=a.n(c),o=a(15),s=a(16),l=a(18),u=a(17),m=a(19),g=(a(59),a(29)),p=a.n(g),d=a(50),f=function(){var e=Object(d.a)(p.a.mark(function e(){var t,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./data.json");case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Could not fetch"+", received ".concat(t.status));case 5:return e.next=7,t.json();case 7:return a=e.sent,e.abrupt("return",a["Country estimates"]);case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),h=a(51),v=a.n(h),b=(a(63),a(64),function(e){var t=e.itemsPerPage,a=e.totalItems,n=e.paginate,c=e.paginationNumber,i=e.pageINC,o=e.pageDEC,s=e.currentPage,l=[],u=s+c,m=s,g=Math.ceil(a/t);m>g-c&&(m=g-c),u>g&&(u=g);for(var p=m;p<=u;p++)l.push(p);return r.a.createElement("nav",null,r.a.createElement("ul",{className:"pagination"},r.a.createElement("li",{className:"page-item"},r.a.createElement("div",{onClick:function(){return o()},className:"page-link"},"\xab")),l.map(function(e){var t="page-item";return s===e&&(t="page-item active"),r.a.createElement("li",{key:e,className:t},r.a.createElement("div",{onClick:function(){return n(e)},className:"page-link"},e))}),r.a.createElement("li",{className:"page-item"},r.a.createElement("div",{onClick:function(){return i()},className:"page-link"},"\xbb"))))}),N=function(e){var t=e.data,a=e.onClickItem,n=e.itemsPerPage,c=e.totalItems,i=e.paginate,o=e.pageINC,s=e.pageDEC,l=e.paginationNumber,u=e.currentPage;return r.a.createElement("div",{className:"list"},r.a.createElement(b,{itemsPerPage:n,totalItems:c,paginate:i,paginationNumber:l,pageINC:o,pageDEC:s,currentPage:u}),r.a.createElement("ul",{className:"list-group"},t.map(function(e){return r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center",key:e.id,onClick:function(){return a(e.id)}},"".concat(e.countryName))})),r.a.createElement(b,{itemsPerPage:n,totalItems:c,paginate:i,paginationNumber:l,pageINC:o,pageDEC:s,currentPage:u}))},y=a(52),C=(a(159),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={chartData:null},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){if(e.selectedItem!==this.props.selectedItem){var t=this.props.selectedItem;this.setState({chartData:t})}}},{key:"render",value:function(){var e=this.state.chartData;if(!e)return r.a.createElement("div",{className:"chart text"},"Select from the list, please.");var t=e.countryName;return r.a.createElement("div",{className:"chart"},r.a.createElement("h4",{className:"text"},"Country name: ",t),r.a.createElement(y.a,{data:e,width:3,height:2,options:{title:{display:!0,text:"Infant Mortality Rate",fontSize:25},legend:{display:!0,position:"right"}}}))}}]),t}(n.Component)),E=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:null,selectedItem:null,currentPage:1,itemsPerPage:12,paginationNumber:10},a.getSelectedItem=function(e){for(var t,n=a.state.data,r=0;r<n.length;r++)console.log(n),n[r].id===e&&(t=n[r]);a.setState({selectedItem:t})},a.getData=function(){f().then(function(e){a.setState({data:a.transformData(e)})})},a.transformData=function(e){for(var t,a,n,r=0,c=[],i=["#E74C3C","white","rgb(226, 226, 23)"],o=0;o<e.length;o++)n=[e[o][2010],e[o][2011],e[o][2012],e[o][2013],e[o][2014],e[o][2015],e[o][2016],e[o][2017]],e[o]["ISO Code"]!==t?(t=e[o]["ISO Code"],a={labels:["2010 year","2011 year","2012 year","2013 year","2014 year","2015 year","2016 year","2017 year"],countryName:e[o]["Country Name"],ISO:e[o]["ISO Code"],id:v()(),datasets:[{label:"IMR (".concat(e[o]["Uncertainty bounds*"],")"),data:n,backgroundColor:i[r]}]}):a.datasets.push({label:"IMR (".concat(e[o]["Uncertainty bounds*"],")"),data:n,backgroundColor:i[r]}),r++,"Upper"===e[o]["Uncertainty bounds*"]&&(c.push(a),r=0);return c},a.paginate=function(e){a.setState({currentPage:e})},a.pageINC=function(){a.setState(function(e){var t=e.currentPage,a=e.data,n=e.itemsPerPage;e.paginationNumber;if(t<a.length/n)return{currentPage:t+1}})},a.pageDEC=function(){a.setState(function(e){var t=e.currentPage;if(t>1)return{currentPage:t-1}})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.selectedItem,n=e.currentPage,c=e.itemsPerPage,i=e.paginationNumber;if(!t)return r.a.createElement("div",null,"Loading...");var o=n*c,s=o-c,l=t.slice(s,o);return r.a.createElement("main",{className:"container"},r.a.createElement("section",{className:"jumbotron main-section"},r.a.createElement(N,{data:l,onClickItem:this.getSelectedItem,itemsPerPage:c,totalItems:t.length,paginate:this.paginate,paginationNumber:i,pageINC:this.pageINC,pageDEC:this.pageDEC,currentPage:n}),r.a.createElement(C,{selectedItem:a})))}}]),t}(n.Component);i.a.render(r.a.createElement(E,null),document.getElementById("root"))},54:function(e,t,a){e.exports=a(160)},59:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){}},[[54,1,2]]]);
//# sourceMappingURL=main.bce3b41d.chunk.js.map